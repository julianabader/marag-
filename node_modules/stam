var events = require('events'),
eventsConfig = require('./config');

class Account extends events.EventEmitter {
    constructor(){
        super();
        this.balance=0;
    }
    deposit(amount){
        this.balance -= amount;
        this.emit('balanceChanged');
    }
}



function displayBalance(){
    console.log('Account balance is: ${this.balance}');
}

function checkOverdraw(){
    if(this.balance<0){
        console.log('Account checkOverdrawn!!! ${this.balance}');
    }
}

function checkGoal(acc,goal){
    if(acc.balance>goal){
        console.log('Goal Achieved!! ${acc.balance}');
    }
}


var account = new Account();
account.on("balanceChanged",displayBalance);
account.on("balanceChanged",checkOverdraw);
account.on("balanceChanged",( => {
    checkGoal(this,1000);
});

account.deposit(200);
account.deposit(300);
account.deposit(600);
account.withdraw(1200);


